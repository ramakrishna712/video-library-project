{"ast":null,"code":"import{useCookies}from\"react-cookie\";import{useNavigate}from\"react-router-dom\";import{useFormik}from\"formik\";import{Link}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function UserLogin(){const[cookie,setCookie]=useCookies('user-id');let navigate=useNavigate();const apiUrl=process.env.REACT_APP_API_URL;const formik=useFormik({initialValues:{UserId:\"\",Password:\"\"},onSubmit:user=>{axios.get(\"\".concat(apiUrl,\"/get-users\")).then(response=>{var data=response.data.find(item=>item.UserId===user.UserId);if(data){if(data.Password===user.Password){setCookie('user-id',user.UserId);navigate(\"/user-dashboard\");}else{navigate('/user-error');}}else{navigate(\"/user-error\");}}).catch(error=>{console.error(\"Error during login:\",error.message);navigate(\"/user-error\");});}});return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid d-flex justify-content-center align-items-center bg-light\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-control w-100 border border-black p-4\",style:{maxWidth:\"400px\"},onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"bi bi-person-circle text-center mb-4\",children:\"User Login\"}),/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"fw-bold\",children:\"User Id\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-3\",type:\"text\",name:\"UserId\",placeholder:\"Enter your user ID\",onChange:formik.handleChange,required:true})}),/*#__PURE__*/_jsx(\"dt\",{className:\"fw-bold\",children:\"Password\"}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control mb-4\",type:\"password\",name:\"Password\",placeholder:\"Enter your password\",onChange:formik.handleChange,required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success me-2\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register-user\",className:\"btn btn-warning\",children:\"Register\"})]})]})});}","map":{"version":3,"names":["useCookies","useNavigate","useFormik","Link","axios","jsx","_jsx","jsxs","_jsxs","UserLogin","cookie","setCookie","navigate","apiUrl","process","env","REACT_APP_API_URL","formik","initialValues","UserId","Password","onSubmit","user","get","concat","then","response","data","find","item","catch","error","console","message","className","children","style","maxWidth","handleSubmit","type","name","placeholder","onChange","handleChange","required","to"],"sources":["C:/Users/Rama Krishna/videolibrary-app/src/components/user-login.jsx"],"sourcesContent":["import { useCookies } from \"react-cookie\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useFormik } from \"formik\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nexport function UserLogin() {\r\n  const [ cookie,setCookie] = useCookies('user-id');\r\n  let navigate = useNavigate();\r\n  const apiUrl = process.env.REACT_APP_API_URL\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      UserId: \"\",\r\n      Password: \"\",\r\n    },\r\n    onSubmit: (user) => {\r\n      \r\n      axios.get(`${apiUrl}/get-users`)\r\n        .then((response) => {\r\n          var data = response.data.find((item) => item.UserId === user.UserId);\r\n          if (data) {\r\n            if (data.Password === user.Password) {\r\n              setCookie('user-id', user.UserId);\r\n              navigate(\"/user-dashboard\");\r\n            } else {\r\n              navigate('/user-error');\r\n            }\r\n          } else {\r\n            navigate(\"/user-error\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error during login:\", error.message);\r\n          navigate(\"/user-error\");\r\n        });\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"container-fluid d-flex justify-content-center align-items-center bg-light\">\r\n      <form className=\"form-control w-100 border border-black p-4\" style={{ maxWidth: \"400px\" }} onSubmit={formik.handleSubmit}>\r\n        <h2 className=\"bi bi-person-circle text-center mb-4\">User Login</h2>\r\n        <dl>\r\n          <dt className=\"fw-bold\">User Id</dt>\r\n          <dd>\r\n            <input\r\n              className=\"form-control mb-3\"\r\n              type=\"text\"\r\n              name=\"UserId\"\r\n              placeholder=\"Enter your user ID\"\r\n              onChange={formik.handleChange}\r\n              required\r\n            />\r\n          </dd>\r\n          <dt className=\"fw-bold\">Password</dt>\r\n          <dd>\r\n            <input\r\n              className=\"form-control mb-4\"\r\n              type=\"password\"\r\n              name=\"Password\"\r\n              placeholder=\"Enter your password\"\r\n              onChange={formik.handleChange}\r\n              required\r\n            />\r\n          </dd>\r\n        </dl>\r\n        <div className=\"d-flex justify-content-center\">\r\n          <button type=\"submit\" className=\"btn btn-success me-2\">Login</button>\r\n          <Link to=\"/register-user\" className=\"btn btn-warning\">Register</Link>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}