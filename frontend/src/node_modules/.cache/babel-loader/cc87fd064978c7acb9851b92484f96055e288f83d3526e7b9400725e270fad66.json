{"ast":null,"code":"import axios from\"axios\";import{Link}from\"react-router-dom\";import{useFormik}from\"formik\";import{useEffect,useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function EditVideo(){const[videos,setVideo]=useState([{VideoId:0,Title:\"\",Url:\"\",Description:\"\",Views:\"\",Likes:\"\",Dislikes:\"\"}]);const[categories,setCategories]=useState([{CategoryId:0,CategoryName:\"\"}]);let params=useParams();let navigate=useNavigate();const apiUrl=process.env.REACT_APP_API_URL;const formik=useFormik({initialValues:{VideoId:videos[0].VideoId,Title:videos[0].Title,Url:videos[0].Url,Description:videos[0].Description,Views:videos[0].Views,Likes:videos[0].Likes,Dislikes:videos[0].Dislikes,CategoryId:videos[0].CategoryId},onSubmit:video=>{axios.put(\"\".concat(apiUrl,\"/edit-video/\").concat(video.VideoId),video).then(()=>{alert(\"Video Updated Successfully\");navigate(\"/admin-dashboard\");}).catch(error=>{console.error(\"Error updating video:\",error);alert(\"An error occurred while updating the video. Please try again.\");});},enableReinitialize:true});function LoadVideo(){axios.get(\"\".concat(apiUrl,\"/get-video/\").concat(params.id)).then(response=>{setVideo(response.data);}).catch(error=>{console.error(\"Error loading video:\",error);});}function LoadCategories(){axios.get(\"\".concat(apiUrl,\"/get-categories\")).then(response=>{response.data.unshift({CategoryId:\"-1\",CategoryName:\"Select Category\"});setCategories(response.data);}).catch(error=>{console.error(\"Error loading categories:\",error);});}useEffect(()=>{LoadVideo();LoadCategories();},[apiUrl]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"bg-dark text-center p-2 text-white\",children:\"Edit Video\"}),/*#__PURE__*/_jsxs(\"dl\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"VideoId\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"VideoId\",onChange:formik.handleChange,value:formik.values.VideoId})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Title\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Title\",onChange:formik.handleChange,value:formik.values.Title})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Url\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Url\",onChange:formik.handleChange,value:formik.values.Url})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Description\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"textarea\",name:\"Description\",onChange:formik.handleChange,value:formik.values.Description})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Views\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Views\",onChange:formik.handleChange,value:formik.values.Views})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Likes\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Likes\",onChange:formik.handleChange,value:formik.values.Likes})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Dislikes\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"Dislikes\",onChange:formik.handleChange,value:formik.values.Dislikes})}),/*#__PURE__*/_jsx(\"dt\",{className:\"col-3\",children:\"Category\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"col-9\",children:/*#__PURE__*/_jsx(\"select\",{name:\"CategoryId\",onChange:formik.handleChange,value:formik.values.CategoryId,children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category.CategoryId,children:category.CategoryName},category.CategoryId))})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",children:\"Save\"}),/*#__PURE__*/_jsx(Link,{className:\"btn btn-warning\",to:\"/admin-dashboard\",children:\"Cancel\"})]})});}","map":{"version":3,"names":["axios","Link","useFormik","useEffect","useState","useNavigate","useParams","jsx","_jsx","jsxs","_jsxs","EditVideo","videos","setVideo","VideoId","Title","Url","Description","Views","Likes","Dislikes","categories","setCategories","CategoryId","CategoryName","params","navigate","apiUrl","process","env","REACT_APP_API_URL","formik","initialValues","onSubmit","video","put","concat","then","alert","catch","error","console","enableReinitialize","LoadVideo","get","id","response","data","LoadCategories","unshift","className","children","handleSubmit","type","name","onChange","handleChange","value","values","map","category","to"],"sources":["C:/Users/Rama Krishna/videolibrary-app/src/components/edit-video.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useFormik } from \"formik\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\n\r\nexport function EditVideo() {\r\n    const [videos, setVideo] = useState([{ VideoId: 0, Title: \"\", Url: \"\", Description: \"\", Views: \"\", Likes: \"\", Dislikes: \"\" }]);\r\n    const [categories, setCategories] = useState([{ CategoryId: 0, CategoryName: \"\" }]);\r\n\r\n    let params = useParams();\r\n    let navigate = useNavigate();\r\n\r\n    const apiUrl = process.env.REACT_APP_API_URL;  \r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            VideoId: videos[0].VideoId,\r\n            Title: videos[0].Title,\r\n            Url: videos[0].Url,\r\n            Description: videos[0].Description,\r\n            Views: videos[0].Views,\r\n            Likes: videos[0].Likes,\r\n            Dislikes: videos[0].Dislikes,\r\n            CategoryId: videos[0].CategoryId\r\n        },\r\n        onSubmit: (video) => {\r\n            axios.put(`${apiUrl}/edit-video/${video.VideoId}`, video)\r\n                .then(() => {\r\n                    alert(\"Video Updated Successfully\");\r\n                    navigate(\"/admin-dashboard\");\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error updating video:\", error);\r\n                    alert(\"An error occurred while updating the video. Please try again.\");\r\n                });\r\n        },\r\n        enableReinitialize: true\r\n    });\r\n\r\n    function LoadVideo() {\r\n        axios.get(`${apiUrl}/get-video/${params.id}`)\r\n            .then(response => {\r\n                setVideo(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error loading video:\", error);\r\n            });\r\n    }\r\n\r\n    function LoadCategories() {\r\n        axios.get(`${apiUrl}/get-categories`)\r\n            .then(response => {\r\n                response.data.unshift({ CategoryId: \"-1\", CategoryName: \"Select Category\" });\r\n                setCategories(response.data);\r\n            })\r\n            .catch((error) => {\r\n                console.error(\"Error loading categories:\", error);\r\n            });\r\n    }\r\n\r\n    useEffect(() => {\r\n        LoadVideo();\r\n        LoadCategories();\r\n    },[apiUrl]);\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <h3 className=\"bg-dark text-center p-2 text-white\">Edit Video</h3>\r\n                <dl className=\"row\">\r\n                    <dt className=\"col-3\">VideoId</dt>\r\n                    <dd className=\"col-9\"><input type=\"number\" name=\"VideoId\" onChange={formik.handleChange} value={formik.values.VideoId} /></dd>\r\n                    <dt className=\"col-3\">Title</dt>\r\n                    <dd className=\"col-9\"><input type=\"text\" name=\"Title\" onChange={formik.handleChange} value={formik.values.Title} /></dd>\r\n                    <dt className=\"col-3\">Url</dt>\r\n                    <dd className=\"col-9\"><input type=\"text\" name=\"Url\" onChange={formik.handleChange} value={formik.values.Url} /></dd>\r\n                    <dt className=\"col-3\">Description</dt>\r\n                    <dd className=\"col-9\"><input type=\"textarea\" name=\"Description\" onChange={formik.handleChange} value={formik.values.Description} /></dd>\r\n                    <dt className=\"col-3\">Views</dt>\r\n                    <dd className=\"col-9\"><input type=\"text\" name=\"Views\" onChange={formik.handleChange} value={formik.values.Views} /></dd>\r\n                    <dt className=\"col-3\">Likes</dt>\r\n                    <dd className=\"col-9\"><input type=\"text\" name=\"Likes\" onChange={formik.handleChange} value={formik.values.Likes} /></dd>\r\n                    <dt className=\"col-3\">Dislikes</dt>\r\n                    <dd className=\"col-9\"><input type=\"text\" name=\"Dislikes\" onChange={formik.handleChange} value={formik.values.Dislikes} /></dd>\r\n\r\n                    <dt className=\"col-3\">Category</dt>\r\n                    <dd className=\"col-9\">\r\n                        <select name=\"CategoryId\" onChange={formik.handleChange} value={formik.values.CategoryId}>\r\n                            {categories.map(category => (\r\n                                <option key={category.CategoryId} value={category.CategoryId}>{category.CategoryName}</option>\r\n                            ))}\r\n                        </select>\r\n                    </dd>\r\n                </dl>\r\n                <button type=\"submit\" className=\"btn btn-success\">Save</button>\r\n                <Link className=\"btn btn-warning\" to=\"/admin-dashboard\">Cancel</Link>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}