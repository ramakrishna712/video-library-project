{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rama Krishna\\\\videolibrary-app\\\\src\\\\components\\\\admin-login.jsx\",\n  _s = $RefreshSig$();\nimport { useFormik } from \"formik\";\nimport { useState } from \"react\";\nimport { useCookies } from \"react-cookie\";\nimport { useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport * as Yup from \"yup\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function AdminLogin() {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [setCookie] = useCookies(['admin-id']);\n  let navigate = useNavigate();\n  const apiUrl = process.env.REACT_APP_API_URL;\n  const formik = useFormik({\n    initialValues: {\n      UserId: '',\n      Password: ''\n    },\n    validationSchema: Yup.object({\n      UserId: Yup.string().required(\"Admin ID is required\"),\n      Password: Yup.string().required(\"Password is required\")\n    }),\n    onSubmit: admin => {\n      setIsLoading(true);\n      axios.get(`${apiUrl}/get-admin`).then(response => {\n        const isValidAdmin = response.data.some(adm => adm.UserId === admin.UserId && adm.Password === admin.Password);\n        if (isValidAdmin) {\n          setCookie('admin-id', admin.UserId);\n          navigate(\"/admin-dashboard\");\n        } else {\n          navigate('/admin-error');\n        }\n      }).catch(error => {\n        console.error(\"Error fetching admin data:\", error);\n        alert(\"An error occurred while logging in. Please try again.\");\n      }).finally(() => setIsLoading(false));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid d-flex justify-content-center align-items-center\",\n    style: {\n      height: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-control p-4\",\n      style: {\n        maxWidth: \"400px\"\n      },\n      onSubmit: formik.handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center h3 fw-bold p-2 mb-4\",\n        children: \"Admin Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"dl\", {\n        children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n          children: \"Admin ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"UserId\",\n            onChange: formik.handleChange,\n            value: formik.values.UserId,\n            className: \"form-control\",\n            placeholder: \"Enter Admin ID\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 25\n          }, this), formik.errors.UserId && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-danger\",\n            children: formik.errors.UserId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"dt\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"Password\",\n            onChange: formik.handleChange,\n            value: formik.values.Password,\n            className: \"form-control\",\n            placeholder: \"Enter Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }, this), formik.errors.Password && /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"text-danger\",\n            children: formik.errors.Password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success w-100\",\n        disabled: isLoading,\n        children: isLoading ? \"Logging in...\" : \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminLogin, \"sSy7k6I8sYGczOGsygh5uH9UXnI=\", false, function () {\n  return [useCookies, useNavigate, useFormik];\n});\n_c = AdminLogin;\nvar _c;\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"names":["useFormik","useState","useCookies","useNavigate","axios","Yup","jsxDEV","_jsxDEV","AdminLogin","_s","isLoading","setIsLoading","setCookie","navigate","apiUrl","process","env","REACT_APP_API_URL","formik","initialValues","UserId","Password","validationSchema","object","string","required","onSubmit","admin","get","then","response","isValidAdmin","data","some","adm","catch","error","console","alert","finally","className","style","height","children","maxWidth","handleSubmit","fileName","_jsxFileName","lineNumber","columnNumber","type","name","onChange","handleChange","value","values","placeholder","errors","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Rama Krishna/videolibrary-app/src/components/admin-login.jsx"],"sourcesContent":["import { useFormik } from \"formik\";\r\nimport { useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport * as Yup from \"yup\";\r\n\r\nexport function AdminLogin() {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [ setCookie] = useCookies(['admin-id']);\r\n    let navigate = useNavigate();\r\n\r\n    const apiUrl = process.env.REACT_APP_API_URL; \r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            UserId: '',\r\n            Password: '',\r\n        },\r\n        validationSchema: Yup.object({\r\n            UserId: Yup.string().required(\"Admin ID is required\"),\r\n            Password: Yup.string().required(\"Password is required\"),\r\n        }),\r\n        onSubmit: (admin) => {\r\n            setIsLoading(true);\r\n            axios.get(`${apiUrl}/get-admin`) \r\n                .then(response => {\r\n                    const isValidAdmin = response.data.some(\r\n                        (adm) => adm.UserId === admin.UserId && adm.Password === admin.Password\r\n                    );\r\n                    if (isValidAdmin) {\r\n                        setCookie('admin-id', admin.UserId);\r\n                        navigate(\"/admin-dashboard\");\r\n                    } else {\r\n                        navigate('/admin-error');\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.error(\"Error fetching admin data:\", error);\r\n                    alert(\"An error occurred while logging in. Please try again.\");\r\n                })\r\n                .finally(() => setIsLoading(false));\r\n        },\r\n    });\r\n\r\n    return (\r\n        <div className=\"container-fluid d-flex justify-content-center align-items-center\" style={{ height: \"100vh\" }}>\r\n            <form className=\"form-control p-4\" style={{ maxWidth: \"400px\" }} onSubmit={formik.handleSubmit}>\r\n                <div className=\"text-center h3 fw-bold p-2 mb-4\">Admin Login</div>\r\n                <dl>\r\n                    <dt>Admin ID</dt>\r\n                    <dd>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"UserId\"\r\n                            onChange={formik.handleChange}\r\n                            value={formik.values.UserId}\r\n                            className=\"form-control\"\r\n                            placeholder=\"Enter Admin ID\"\r\n                            required\r\n                        />\r\n                        {formik.errors.UserId && <small className=\"text-danger\">{formik.errors.UserId}</small>}\r\n                    </dd>\r\n                    <dt>Password</dt>\r\n                    <dd>\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"Password\"\r\n                            onChange={formik.handleChange}\r\n                            value={formik.values.Password}\r\n                            className=\"form-control\"\r\n                            placeholder=\"Enter Password\"\r\n                            required\r\n                        />\r\n                        {formik.errors.Password && <small className=\"text-danger\">{formik.errors.Password}</small>}\r\n                    </dd>\r\n                </dl>\r\n                <button type=\"submit\" className=\"btn btn-success w-100\" disabled={isLoading}>\r\n                    {isLoading ? \"Logging in...\" : \"Login\"}\r\n                </button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}